<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-BC1FWG505F"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-BC1FWG505F');
  </script>
  <meta name="description" content="Browse Saba Island properties for sale. Find villas, cottages, and land parcels in Windwardside, The Bottom, Cove Bay, and more.">
  <meta name="keywords" content="Saba real estate, Saba property for sale, Caribbean homes, Windwardside property, Cove Bay land">
  
  <!-- Open Graph / Social Media -->
  <meta property="og:title" content="Properties for Sale | Saban Realty">
  <meta property="og:description" content="Browse Saba Island properties for sale. Find villas, cottages, and land parcels in Windwardside, The Bottom, Cove Bay, and more.">
  <meta property="og:image" content="https://pub-78b56158b83942189fa28a4d5939bb79.r2.dev/assets/logo-horizontal.png">
  <meta property="og:url" content="https://sabanrealty.com/buy.html">
  <meta property="og:type" content="website">

  <title>Properties for Sale | Saban Realty - Saba Island Real Estate</title>
  <link rel="canonical" href="https://sabanrealty.com/buy.html">
  
  <link rel="icon" type="image/png" href="https://pub-78b56158b83942189fa28a4d5939bb79.r2.dev/assets/favicon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Source+Sans+3:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.min.css">
</head>
<body>
  <a href="#main-content" class="skip-to-content">Skip to main content</a>

  <!-- Navigation -->
  <nav class="navbar scrolled">
    <div class="container nav-container">
      <a href="index.html" class="nav-logo">
        <img src="https://pub-78b56158b83942189fa28a4d5939bb79.r2.dev/assets/logo-horizontal.png" alt="Saban Realty">
      </a>
      
      <ul class="nav-menu">
        <span class="nav-close">&times;</span>
        <li><a href="index.html" class="nav-link">Home</a></li>
        <li><a href="buy.html" class="nav-link active">Buy</a></li>
        <li><a href="rent.html" class="nav-link">Rent</a></li>
        <li><a href="sell.html" class="nav-link">Sell</a></li>
        <li><a href="about.html" class="nav-link">About</a></li>
        <li class="nav-cta">
          <a href="contact.html" class="btn btn-primary">Get In Touch</a>
        </li>
        <li class="nav-dropdown">
          <button class="nav-dropdown-toggle">
            More
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="nav-dropdown-menu">
            <a href="buy.html">Properties for Sale</a>
            <a href="rent.html">Vacation Rentals</a>
            <a href="sell.html">List Your Property</a>
            <a href="about.html">About Us</a>
          </div>
        </li>
      </ul>
      
      <button class="nav-toggle" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <main id="main-content">
  <!-- Page Hero -->
  <section class="page-hero">
    <div class="container page-hero-content">
      <div class="breadcrumb">
        <a href="index.html">Home</a>
        <span>/</span>
        <span>Properties for Sale</span>
      </div>
      <h1>Current Listings</h1>
      <p>Explore our selection of homes, villas, and land parcels available for purchase on Saba Island.</p>
    </div>
  </section>

  <!-- Listings Section -->
  <section class="section">
    <div class="container">
      
      <!-- Filter Bar -->
      <div class="filter-bar fade-in">
        <div class="filter-grid">
          <div class="filter-group">
            <label for="searchInput">Search</label>
            <input type="text" id="searchInput" placeholder="Search properties...">
          </div>
          <div class="filter-group">
            <label for="propertyType">Property Type</label>
            <select id="propertyType">
              <option value="all">All Types</option>
              <option value="house">Houses</option>
              <option value="land">Land</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="bedrooms">Bedrooms</label>
            <select id="bedrooms">
              <option value="all">Any</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4+">4+</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="priceRange">Price Range</label>
            <select id="priceRange">
              <option value="all">Any Price</option>
              <option value="0-250000">Under $250,000</option>
              <option value="250000-500000">$250,000 - $500,000</option>
              <option value="500000-1000000">$500,000 - $1,000,000</option>
              <option value="1000000-999999999">$1,000,000+</option>
            </select>
          </div>
          <div class="filter-group">
            <button class="btn btn-primary" style="width: 100%;">Search</button>
          </div>
        </div>
      </div>
      
      <!-- Property Grid - Dynamically loaded from listings.json -->
      <div class="grid grid-3 property-grid" id="propertyGrid">
        <div class="loading-message" style="grid-column: 1/-1; text-align: center; padding: 3rem;">
          <p>Loading properties...</p>
        </div>
      </div>

      <script>
        // Load properties from listings.json
        fetch('data/listings.json')
          .then(response => response.json())
          .then(data => {
            const grid = document.getElementById('propertyGrid');
            grid.innerHTML = '';

            let cardIndex = 0;
          data.properties.forEach(property => {
              // Skip hidden properties
              if (property.hidden) return;

              const isSold = property.status === 'sold';
              const isLand = property.type === 'land';
              const isHouse = property.type === 'villa' || property.type === 'cottage';
              const badgeClass = isSold ? 'badge-sold' : 'badge-sale';
              const badgeText = isSold ? 'Sold' : 'For Sale';
              const priceStyle = isSold ? 'color: var(--color-text-light);' : '';
              // Normalize type for filtering: villa/cottage → house
              const filterType = isHouse ? 'house' : property.type;
              const displayType = isHouse ? 'House' : property.type.charAt(0).toUpperCase() + property.type.slice(1);

              let featuresHTML = '';
              if (isLand) {
                featuresHTML = `
                  <div class="feature-item">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    </svg>
                    <span>Land</span>
                  </div>
                  <div class="feature-item">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                    </svg>
                    <span>Views</span>
                  </div>
                `;
              } else {
                featuresHTML = `
                  <div class="feature-item">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
                    </svg>
                    <span>${property.bedrooms} Bed${property.bedrooms !== 1 ? 's' : ''}</span>
                  </div>
                  <div class="feature-item">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M9 6l6 6-6 6"/>
                    </svg>
                    <span>${property.bathrooms} Bath${property.bathrooms !== 1 ? 's' : ''}</span>
                  </div>
                  <div class="feature-item">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    </svg>
                    <span>${displayType}</span>
                  </div>
                `;
              }

              const card = document.createElement('a');
              card.href = `property-detail.html?id=${property.id}&type=sale`;
              card.className = 'property-card fade-in visible';
              card.setAttribute('data-type', filterType);
              card.setAttribute('data-bedrooms', property.bedrooms);
              card.setAttribute('data-price', property.price);
              card.style.textDecoration = 'none';
              card.style.color = 'inherit';

              card.innerHTML = `
                <div class="property-image">
                  <img src="${property.images[0]}" alt="${property.title}" loading="lazy">
                  <span class="property-badge ${badgeClass}">${badgeText}</span>
                </div>
                <div class="property-content">
                  <div class="property-price" style="${priceStyle}">${property.priceFormatted}</div>
                  <h4 class="property-title">${property.title}</h4>
                  <p class="property-location">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                      <circle cx="12" cy="10" r="3"/>
                    </svg>
                    ${property.location}
                  </p>
                  <div class="property-features">
                    ${featuresHTML}
                  </div>
                </div>
              `;

              card.style.animationDelay = `${cardIndex * 0.08}s`;
              cardIndex++;
              grid.appendChild(card);
            });

            // Apply filters if any
            applyFilters();
          })
          .catch(error => {
            console.error('Error loading properties:', error);
            document.getElementById('propertyGrid').innerHTML = '<p style="grid-column: 1/-1; text-align: center;">Error loading properties. Please try again later.</p>';
          });

        // Filter functionality
        function applyFilters() {
          const searchInput = document.getElementById('searchInput').value.toLowerCase();
          const typeFilter = document.getElementById('propertyType').value;
          const bedroomFilter = document.getElementById('bedrooms').value;
          const priceFilter = document.getElementById('priceRange').value;

          document.querySelectorAll('.property-card').forEach(card => {
            const title = card.querySelector('.property-title').textContent.toLowerCase();
            const location = card.querySelector('.property-location').textContent.toLowerCase();
            const type = card.getAttribute('data-type');
            const bedrooms = parseInt(card.getAttribute('data-bedrooms')) || 0;
            const price = parseInt(card.getAttribute('data-price')) || 0;

            let show = true;

            // Search filter
            if (searchInput && !title.includes(searchInput) && !location.includes(searchInput)) {
              show = false;
            }

            // Type filter — 'house' matches villa/cottage (already normalized to 'house' in data-type)
            if (typeFilter !== 'all' && type !== typeFilter) {
              show = false;
            }

            // Bedroom filter
            if (bedroomFilter !== 'all') {
              if (bedroomFilter === '4+' && bedrooms < 4) show = false;
              else if (bedroomFilter !== '4+' && bedrooms !== parseInt(bedroomFilter)) show = false;
            }

            // Price filter
            if (priceFilter !== 'all') {
              const [min, max] = priceFilter.split('-').map(Number);
              if (price < min || price > max) show = false;
            }

            card.style.display = show ? '' : 'none';
          });
        }

        // Attach filter event listeners
        document.getElementById('searchInput').addEventListener('input', applyFilters);
        document.getElementById('propertyType').addEventListener('change', applyFilters);
        document.getElementById('bedrooms').addEventListener('change', applyFilters);
        document.getElementById('priceRange').addEventListener('change', applyFilters);
      </script>

    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <h2>Don't See What You're Looking For?</h2>
      <p>Contact us and we'll help you find the perfect property on Saba Island that matches your dreams.</p>
      <a href="contact.html" class="btn btn-white">Contact Us</a>
    </div>
  </section>

  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <img src="https://pub-78b56158b83942189fa28a4d5939bb79.r2.dev/assets/logo-horizontal.png" alt="Saban Realty" style="height: 40px; margin-bottom: 1rem;" loading="lazy">
          <p>Your trusted partner for real estate on Saba Island, Caribbean Netherlands.</p>
        </div>

        <div class="footer-column">
          <h4>Properties</h4>
          <ul class="footer-links">
            <li><a href="buy.html">Buy</a></li>
            <li><a href="rent.html">Rent</a></li>
            <li><a href="sell.html">Sell</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h4>Company</h4>
          <ul class="footer-links">
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h4>Get In Touch</h4>
          <ul class="footer-links">
            <li><a href="tel:+599-416-5497">+599 416 5497</a></li>
            <li><a href="mailto:jeffsabarealty@gmail.com">jeffsabarealty@gmail.com</a></li>
            <li>Zion's Hill, Saba</li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 Saban Realty. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Scroll to Top Button -->
  <button class="scroll-top" aria-label="Scroll to top">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M18 15l-6-6-6 6"/>
    </svg>
  </button>

  <script src="js/main.min.js"></script>
</body>
</html>
